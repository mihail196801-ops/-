<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>–ú–æ—Ä–µ, –ø–æ–ø—É–≥–∞–∏ –∏ –æ—Ö–æ—Ç–Ω–∏–∫–∏!</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      margin: 0;
      height: 100vh;
      overflow: hidden;
      background: #f0f0f0;
      display: flex;
      justify-content: center;
      align-items: center;
      font-family: sans-serif;
    }

    #sun-ball {
      width: 200px;
      height: 200px;
      background: radial-gradient(circle, #FFD700, #FFA500);
      border-radius: 50%;
      box-shadow: 0 0 40px rgba(255, 215, 0, 0.8);
      cursor: pointer;
      z-index: 100;
    }

    #beach-view {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image: url('https://i.pinimg.com/originals/20/d2/8c/20d28c14b88195c4085fd5054f18c7ff.jpg');
      background-size: cover;
      background-position: center;
      z-index: 1;
    }

    .hidden {
      display: none !important;
    }

    .parrot, .hunter {
      position: absolute;
      font-size: 40px;
      z-index: 2;
      pointer-events: none;
    }

    .parrot {
      animation: bounce 1.2s infinite alternate;
    }

    @keyframes bounce {
      0% { transform: translateY(0) rotate(0deg); }
      100% { transform: translateY(-40px) rotate(10deg); }
    }
  </style>
</head>
<body>
  <!-- –ñ—ë–ª—Ç—ã–π —à–∞—Ä -->
  <div id="sun-ball"></div>

  <!-- –§–æ–Ω —Å –º–æ—Ä–µ–º -->
  <div id="beach-view"></div>

  <!-- –ê—É–¥–∏–æ -->
  <audio id="beachMusic" preload="auto">
    <source src="https://www.soundjay.com/nature/sounds/tropical-birds-1.mp3" type="audio/mpeg">
  </audio>

  <script>
    const sunBall = document.getElementById('sun-ball');
    const beachView = document.getElementById('beach-view');
    const audio = document.getElementById('beachMusic');
    let musicPlayed = false;
    let activeCharacters = [];

    // –§—É–Ω–∫—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∏—è –ø–∞—Ä—ã: –ø–æ–ø—É–≥–∞–π + –æ—Ö–æ—Ç–Ω–∏–∫
    function createParrotAndHunter(x, y) {
      // –ü–æ–ø—É–≥–∞–π
      const parrot = document.createElement('div');
      parrot.className = 'parrot';
      parrot.textContent = 'ü¶ú';
      parrot.style.left = (x - 20) + 'px';
      parrot.style.top = (y - 20) + 'px';
      document.body.appendChild(parrot);

      // –û—Ö–æ—Ç–Ω–∏–∫ (—á–µ–ª–æ–≤–µ—á–µ–∫)
      const hunter = document.createElement('div');
      hunter.className = 'hunter';
      hunter.textContent = 'üë§';
      hunter.style.left = (x - 20) + 'px';
      hunter.style.top = (y + 100) + 'px'; // –ù–∞—á–∏–Ω–∞–µ—Ç –Ω–∏–∂–µ
      document.body.appendChild(hunter);

      // –°–ª—É—á–∞–π–Ω–æ–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–≤–∏–∂–µ–Ω–∏—è –¥–ª—è –ø–æ–ø—É–≥–∞—è
      let dx = (Math.random() - 0.5) * 4;
      let dy = (Math.random() - 0.5) * 2;

      // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ
      const state = { parrot, hunter, x, y, dx, dy };
      activeCharacters.push(state);

      // –£–¥–∞–ª–∏–º —á–µ—Ä–µ–∑ 15 —Å–µ–∫
      setTimeout(() => {
        if (parrot.parentNode) parrot.remove();
        if (hunter.parentNode) hunter.remove();
        const index = activeCharacters.indexOf(state);
        if (index > -1) activeCharacters.splice(index, 1);
      }, 15000);
    }

    // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–π (–∞–Ω–∏–º–∞—Ü–∏—è –ø—Ä–µ—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è)
    function animate() {
      activeCharacters.forEach(char => {
        const { parrot, hunter, dx, dy } = char;

        // –î–≤–∏–≥–∞–µ–º –ø–æ–ø—É–≥–∞—è
        let px = parseFloat(parrot.style.left) || 0;
        let py = parseFloat(parrot.style.top) || 0;

        // –û—Ç—Å–∫–æ–∫ –æ—Ç –∫—Ä–∞—ë–≤
        if (px <= 0 || px >= window.innerWidth - 40) dx = -dx;
        if (py <= 0 || py >= window.innerHeight - 80) dy = -dy;

        px += dx;
        py += dy;

        parrot.style.left = px + 'px';
        parrot.style.top = py + 'px';

        // –û–±–Ω–æ–≤–ª—è–µ–º –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏
        char.x = px;
        char.y = py;
        char.dx = dx;
        char.dy = dy;

        // –û—Ö–æ—Ç–Ω–∏–∫ —Å–ª–µ–¥—É–µ—Ç –∑–∞ –ø–æ–ø—É–≥–∞–µ–º —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π (–ø–ª–∞–≤–Ω–æ–µ –ø—Ä–µ—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ)
        const hx = parseFloat(hunter.style.left) || 0;
        const hy = parseFloat(hunter.style.top) || 0;
        const targetX = px;
        const targetY = py;

        // –ü—Ä–æ—Å—Ç–∞—è –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏—è (–ø–ª–∞–≤–Ω–æ–µ —Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ)
        const nx = hx + (targetX - hx) * 0.03;
        const ny = hy + (targetY - hy) * 0.03;

        hunter.style.left = nx + 'px';
        hunter.style.top = ny + 'px';
      });

      requestAnimationFrame(animate);
    }

    // –ó–∞–ø—É—Å–∫ –∞–Ω–∏–º–∞—Ü–∏–∏
    animate();

    // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–ª–∏–∫–∞ –ø–æ —à–∞—Ä—É
    sunBall.addEventListener('click', function(e) {
      sunBall.classList.add('hidden');
      beachView.style.display = 'block';

      if (!musicPlayed) {
        audio.play().catch(() => console.log("–ú—É–∑—ã–∫–∞ –Ω–µ –ø—Ä–æ–∏–≥—Ä–∞–ª–∞—Å—å (–≤–æ–∑–º–æ–∂–Ω–æ, –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –±—Ä–∞—É–∑–µ—Ä–∞)"));
        audio.loop = true;
        musicPlayed = true;
      }

      // –°–æ–∑–¥–∞—ë–º –ø–µ—Ä–≤—É—é –ø–∞—Ä—É –≤ —Ü–µ–Ω—Ç—Ä–µ
      createParrotAndHunter(window.innerWidth / 2, window.innerHeight / 2);

      // –î–æ–±–∞–≤–∏–º –µ—â—ë –ø–∞—Ä—É —á–µ—Ä–µ–∑ –ø–∞—Ä—É —Å–µ–∫—É–Ω–¥ –¥–ª—è –≤–µ—Å–µ–ª—å—è
      setTimeout(() => {
        createParrotAndHunter(200, 300);
      }, 2000);
    });

    // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ: –∫–ª–∏–∫ –ø–æ –ø–ª—è–∂—É —Å–æ–∑–¥–∞—ë—Ç –Ω–æ–≤—ã—Ö –ø–æ–ø—É–≥–∞–µ–≤!
    beachView.addEventListener('click', function(e) {
      if (beachView.style.display === 'block') {
        createParrotAndHunter(e.clientX, e.clientY);
      }
    });
  </script>
</body>
</html>
